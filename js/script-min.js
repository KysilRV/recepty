"use strict";window.addEventListener("DOMContentLoaded",()=>{const e=[{name:"Икра кабачковая (Света Тищенко)",ingred:["лук: 1000г","морковь: 1000г","сахар: 1с","уксус: 100г","масло(подсолнечное): 100г","соль: 3с","честнок: 100г","паста: 500г"],value:6e3,keyItem:"Кабачки",descr:"На крупную терку, тушить 1,5 часа. Потушить на сковородке + масло подсолнечное чуть-чуть. Все перекрутить на мясорубке. Тушить 25 минут. Все перемешать + еще кипятить в банках 0,5 стерелизовать 20 шт. и замотать. Выход: 12 - 13 банок по 0,5 л."},{name:"Борщова приправа (Людмила Петровна)",ingred:["перец(сладкий): 3000г","лук: 1500г","морковка: 1500г","масло(подсолнечное): 500г"],value:1e4,keyItem:"Помидоры",descr:"Все перекрутить на мясорубку. Тушить 1 час. Соль и сахар по вкусу."},{name:"Икра кабачковая без уксуса (перетертая)",ingred:["мука: 500г","морковь: 1000г","сахар: 4с","соль: 3с","соус: 485г"],value:3e3,keyItem:"Кабачки чищеные",descr:"Соли 2 - 3 столовые ложки (по вкусу). Мука обтарить на масле. Обтарить кабачки + лук + морковь, взбить взбить ??? блендером. Тушить на медленном огне. За 1 час до готовности добавить любой соус. Выход 7 - 8 банок по 0,5."},{name:"Кабачки с соусом сацебели (Людмила Петровна)",ingred:["соль: 2с","сацебели: 485г","сахар: 18с","масло(растительное): 200г","уксус: 200г","честнок: 2г","перец(черный-молотый): 1ч","перец(красный-молотый): 1ч"],value:5e3,keyItem:"Кабачки молодые",descr:"Кабачки молодые порезать кружочками по 2 см. Тушить 30 минут с момента закипания. Разложить по банкам. Выход 6 литровых банок."},{name:"Огурцы с соусом чили",ingred:["кетчуп: 150г","соль: 2с","сахар: 2с","уксус: 15г","вода: 1000г"],value:1e3,keyItem:"Вода",descr:"2 литра вода это 2 банки по 1 л + 1 б. 1.5 л на нее 1 упаковка соуса та 380 г"},{name:"Майонез домашний (Юля маникюр)",ingred:["горчица: 2ч","сахар: 0.6с","соль: 0.3с"],value:2e3,keyItem:"Яйца",descr:"Все взбить блендером 1 минуту. 1 стакан подсолнечного масла влить тонкой струйкой. Взбить 3 минуты. 2 ст ложки яблочного или винаградного сока. Взбить 1 минуту"},{name:"Кабачки консервированые (Вася Носенко)",ingred:["соль: 3с","сахар: 10с","уксус: 250г","вода: 2000г"],value:3e3,keyItem:"Кабачки",descr:"Все взбить блендером 1 минуту. 1 стакан подсолнечного масла влить тонкой струйкой. Взбить 3 минуты. 2 ст ложки яблочного или винаградного сока. Взбить 1 минуту"}];if(""===window.location.href.split("/")[window.location.href.split("/").length-1]||"index.html"===window.location.href.split("/")[window.location.href.split("/").length-1]){const t=document.querySelector(".info__title"),n=document.querySelector(".info__ingred"),a=JSON.parse(localStorage.getItem("last")),l=document.querySelector(".info__input"),i=document.querySelector(".info__label"),o=document.querySelector(".info__descr");a&&(t.textContent=a.name,t.setAttribute("data-i",localStorage.getItem("index")),l.value=localStorage.getItem("inputValue"),i.textContent="Яйца"===a.keyItem?"Яйцв в шт.":"Води"!==a.keyItem?`${a.keyItem} в кг:`:"Води в л",o.textContent=a.descr,a.ingred.forEach(e=>{const t=e.split(" "),a=document.createElement("li");a.classList.add("info__item"),a.innerHTML=`<li class='info__item'><span>${t[0]}</span> ${t[1]}</li>`,n.append(a)}));const r=[];for(let e=0;e<n.children.length;e++)r.push(a.ingred[e].split(" ")[1].slice(0,-1));let c=[];r.forEach(e=>{let t=e/a.value*1e3;c.push((t*+localStorage.getItem("inputValue")).toFixed(2))}),[...n.children].forEach((e,t)=>{const n=e.textContent.split(" ");n[1]="Горчица"===n[0]||"горчица:"===n[0]||"перец(черный-молотый):"===n[0]||"перец(красный-молотый):"===n[0]?`${c[t]}ч`:"сахар:"===n[0]||"соль:"===n[0]?`${c[t]}c`:c[t]>=1e3?`${c[t]/1e3}кг`:`${c[t]}г`,e.innerHTML=`<span>${n[0]}</span> ${n[1]}`});const d=document.querySelector(".main__wrapper");e.forEach((e,t)=>{const n=document.createElement("div");n.classList.add("main__item"),n.setAttribute("data-i",t),n.textContent=e.name,d.append(n)});const s=document.querySelector(".main__input"),u=[...d.children];s.addEventListener("input",e=>{const t=e.target;u.forEach(e=>{e.textContent.slice(0,t.value.length)!==t.value?e.style.display="none":e.style.display="block"})});const m=document.querySelectorAll(".main__item"),p=document.querySelector(".info__ingred"),g=document.querySelector(".info__title"),h=document.querySelector(".info__descr");m.forEach(t=>{t.addEventListener("click",n=>{const a=n.target;g.textContent=a.textContent,g.setAttribute("data-i",t.getAttribute("data-i")),i.textContent="Яйца"===e[g.getAttribute("data-i")].keyItem?"Яйцв в шт.":"Води"!==e[g.getAttribute("data-i")].keyItem?`${e[g.getAttribute("data-i")].keyItem} в кг:`:"Води в л",l.value=e[g.getAttribute("data-i")].value/1e3,localStorage.setItem("last",JSON.stringify(e[g.getAttribute("data-i")])),localStorage.setItem("index",g.getAttribute("data-i")),p.textContent="",h.textContent=e[g.getAttribute("data-i")].descr,e[t.getAttribute("data-i")].ingred.forEach(e=>{const t=e.split(" "),n=document.createElement("li");n.classList.add("info__item"),n.innerHTML=`<li class='info__item'><span>${t[0]}</span> ${t[1]}</li>`,p.append(n)})})});const _=document.querySelectorAll(".info__btn"),v=document.querySelector(".info__input");v.addEventListener("input",t=>{const n=t.target,a=[];localStorage.setItem("inputValue",n.value);for(let t=0;t<p.children.length;t++)a.push(e[g.getAttribute("data-i")].ingred[t].split(" ")[1].slice(0,-1));let l=[];a.forEach(t=>{let a=t/e[g.getAttribute("data-i")].value*1e3;l.push((a*+n.value).toFixed(2))}),[...p.children].forEach((e,t)=>{const n=e.textContent.split(" ");n[1]="Горчица"===n[0]||"горчица:"===n[0]||"перец(черный-молотый):"===n[0]||"перец(красный-молотый):"===n[0]?`${l[t]}ч`:"сахар:"===n[0]||"соль:"===n[0]?`${l[t]}c`:l[t]>=1e3?`${l[t]/1e3}кг`:`${l[t]}г`,e.innerHTML=`<span>${n[0]}</span> ${n[1]}`})}),_.forEach(t=>{t.addEventListener("click",t=>{v.value=+t.target.textContent+ +v.value;const n=[];localStorage.setItem("inputValue",v.value);for(let t=0;t<p.children.length;t++)n.push(e[g.getAttribute("data-i")].ingred[t].split(" ")[1].slice(0,-1));let a=[];n.forEach(t=>{let n=t/e[g.getAttribute("data-i")].value*1e3;a.push((n*+v.value).toFixed(2))}),[...p.children].forEach((e,t)=>{const n=e.textContent.split(" ");n[1]="Горчица"===n[0]||"горчица:"===n[0]||"перец(черный-молотый):"===n[0]||"перец(красный-молотый):"===n[0]?`${a[t]}ч`:"сахар:"===n[0]||"соль:"===n[0]?`${a[t]}c`:a[t]>=1e3?`${a[t]/1e3}кг`:`${a[t]}г`,e.innerHTML=`<span>${n[0]}</span> ${n[1]}`})})})}else{const e=document.querySelector(".add__add"),t=document.querySelector(".add__submit"),n=document.querySelector(".add__ingred");let a="";t.addEventListener("click",()=>{let t=!0;if(n.children[0]&&[...n.children].forEach(n=>{n.textContent.split(" ")[0].slice(0,-1)===e.value.split(" ")[0]&&(t=!1)}),""!==e.value&&+e.value.split(" ")[1]/1>0&&t){const t=e.value.split(" "),l=document.createElement("li");l.classList.add("add__item"),t[1]="Горчица"===t[0]||"горчица:"===t[0]||"перец(черный-молотый):"===t[0]||"перец(черный-молотый)"===t[0]||"перец(красный-молотый):"===t[0]||"перец(красный-молотый)"===t[0]?`${t[1]}ч`:"сахар:"===t[0]||"соль:"===t[0]||"соль"===t[0]||"сахар"===t[0]?`${t[1]}c`:t[1]>=1e3?`${t[1]/1e3}кг`:`${t[1]}г`,l.textContent=`${t[0]}: ${t[1]}`,l.setAttribute("data-val",t[1]);const i=l.textContent.split(" ")[1].slice(0,-1);"к"===i[i.length-1]?l.setAttribute("data-val",1e3*l.textContent.split(" ")[1].slice(0,-2)):l.setAttribute("data-val",l.textContent.split(" ")[1].slice(0,-1)),n.append(l),a=document.querySelector(".add__ingred"),e.value=""}});const l=document.querySelector(".add__input"),i=document.querySelector(".add__val");l.addEventListener("input",e=>{if(a.children&&i.value){const t=e.target,l=[],o=[...a.children];for(let e=0;e<a.children.length;e++)l.push(+o[e].getAttribute("data-val"));let r=[];l.forEach(e=>{let n=e/+i.value;console.log(+i.value),r.push((n*+t.value).toFixed(2))}),[...n.children].forEach((e,t)=>{const n=e.textContent.split(" ");n[1]="Горчица"===n[0]||"горчица:"===n[0]||"перец(черный-молотый):"===n[0]||"перец(черный-молотый)"===n[0]||"перец(красный-молотый):"===n[0]||"перец(красный-молотый)"===n[0]?`${r[t]}ч`:"сахар:"===n[0]||"сахар"===n[0]||"соль:"===n[0]||"соль"===n[0]?`${r[t]}c`:r[t]>=1e3?`${r[t]/1e3}кг`:`${r[t]}г`,e.innerHTML=`<span>${n[0]}</span> ${n[1]}`})}}),document.querySelectorAll(".add__btn").forEach(e=>{e.addEventListener("click",e=>{l.value=+e.target.textContent+ +l.value;const t=[],o=[...a.children];for(let e=0;e<a.children.length;e++)t.push(+o[e].getAttribute("data-val"));let r=[];t.forEach(e=>{let t=e/+i.value;r.push((t*+l.value).toFixed(2))}),[...n.children].forEach((e,t)=>{const n=e.textContent.split(" ");n[1]="Горчица"===n[0]||"горчица:"===n[0]||"перец(черный-молотый):"===n[0]||"перец(черный-молотый)"===n[0]||"перец(красный-молотый):"===n[0]||"перец(красный-молотый)"===n[0]?`${r[t]}ч`:"сахар:"===n[0]||"сахар"===n[0]||"соль:"===n[0]||"соль"===n[0]?`${r[t]}c`:r[t]>=1e3?`${r[t]/1e3}кг`:`${r[t]}г`,e.innerHTML=`<span>${n[0]}</span> ${n[1]}`})})})}});